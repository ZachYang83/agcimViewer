var watersInfoData = [{
    positions: [

        {
            x: -2228058.589290191,
            y: 5455202.678454708,
            z: 2432544.1050482467
        }, {
            x: -2228043.6241886993,
            y: 5455221.314573849,
            z: 2432516.2066877424
        }, {
            x: -2228037.915638089,
            y: 5455228.430487814,
            z: 2432505.5488509783
        }, {
            x: -2228032.6899218964,
            y: 5455234.711135333,
            z: 2432496.312314228
        }, {
            x: -2228025.432888446,
            y: 5455244.875749843,
            z: 2432480.2717179433
        }, {
            x: -2228020.1837730096,
            y: 5455248.3993577035,
            z: 2432477.1980580175
        }, {
            x: -2228011.6824945994,
            y: 5455250.666698183,
            z: 2432479.881773241
        }, {
            x: -2228007.9590703184,
            y: 5455249.148364278,
            z: 2432486.6516995784
        }, {
            x: -2228007.2143810815,
            y: 5455248.22202463,
            z: 2432489.392781856
        }, {
            x: -2228008.011135744,
            y: 5455243.222663669,
            z: 2432499.804676154
        }, {
            x: -2228009.047376877,
            y: 5455232.958368286,
            z: 2432521.726893809
        }, {
            x: -2228009.7571741682,
            y: 5455225.996398966,
            z: 2432536.5896324622
        }, {
            x: -2228010.4188389275,
            y: 5455223.702991771,
            z: 2432541.0964345993
        }, {
            x: -2228011.3105547084,
            y: 5455221.592345969,
            z: 2432544.986812228
        }, {
            x: -2228012.407656547,
            y: 5455220.632461136,
            z: 2432546.1269089407
        }, {
            x: -2228013.670258034,
            y: 5455219.0477284705,
            z: 2432548.508334791
        }, {
            x: -2228015.7816454866,
            y: 5455216.706383766,
            z: 2432551.8029556987
        }, {
            x: -2228020.1282470454,
            y: 5455213.258153987,
            z: 2432555.5296697747
        }, {
            x: -2228027.9099216745,
            y: 5455207.733068347,
            z: 2432560.7575163385
        }, {
            x: -2228034.3947738013,
            y: 5455203.674911771,
            z: 2432563.8974766093
        }, {
            x: -2228037.0635891035,
            y: 5455201.997040298,
            z: 2432565.2069773464
        }, {
            x: -2228040.041225087,
            y: 5455200.34862594,
            z: 2432566.1698939367
        }, {
            x: -2228043.3235960393,
            y: 5455199.216017078,
            z: 2432565.706574166
        }, {
            x: -2228047.623925217,
            y: 5455198.240201447,
            z: 2432563.9678514684
        }, {
            x: -2228050.5276028523,
            y: 5455198.500618835,
            z: 2432560.7460039393
        }, {
            x: -2228053.703442947,
            y: 5455199.259976143,
            z: 2432556.1651141206
        }, {
            x: -2228056.838553478,
            y: 5455200.411718394,
            z: 2432550.7472017696
        }, {
            x: -2228058.080796808,
            y: 5455201.94139896,
            z: 2432546.209527182
        }
    ],
    height: 88.1,
    extrudedHeight: undefined
}, {
    positions: [
        {
            x: -2228425.1752200094,
            y: 5455269.508751535,
            z: 2432343.347782698
        }, {
            x: -2228423.1202215003,
            y: 5455279.325817516,
            z: 2432326.1827764097
        }, {
            x: -2228423.548314049,
            y: 5455282.44849849,
            z: 2432318.816960535
        }, {
            x: -2228422.771124816,
            y: 5455286.575771709,
            z: 2432313.0022958103
        }, {
            x: -2228422.875255399,
            y: 5455288.461495892,
            z: 2432306.833834267
        }, {
            x: -2228419.2120733005,
            y: 5455288.926791588,
            z: 2432305.7423031405
        }, {
            x: -2228403.2274390147,
            y: 5455295.877350836,
            z: 2432305.590242924
        }, {
            x: -2228403.149062623,
            y: 5455297.149969862,
            z: 2432303.3559182766
        }, {
            x: -2228400.2890369734,
            y: 5455296.899186796,
            z: 2432305.2370565757
        }, {
            x: -2228399.574065462,
            y: 5455296.167910527,
            z: 2432307.84496762
        }, {
            x: -2228395.666056698,
            y: 5455293.662031925,
            z: 2432317.1162153203
        }, {
            x: -2228391.0376103283,
            y: 5455288.816192876,
            z: 2432333.956587268
        }, {
            x: -2228392.1086280267,
            y: 5455287.125915072,
            z: 2432336.673999018
        }, {
            x: -2228393.787873035,
            y: 5455283.57432131,
            z: 2432343.5218256894
        }, {
            x: -2228404.24146867,
            y: 5455274.003457581,
            z: 2432356.8673923677
        }, {
            x: -2228416.9344621766,
            y: 5455271.115551203,
            z: 2432350.8578386144
        }, {
            x: -2228422.1772226286,
            y: 5455270.793148271,
            z: 2432346.970150959
        }
    ],
    height: 107.5,
    extrudedHeight: undefined
}, {
    positions: [
        {
            x: -2228220.1925766366,
            y: 5455213.077449939,
            z: 2432637.4915601276
        }, {
            x: -2228223.4518292425,
            y: 5455215.348757826,
            z: 2432628.6180646373
        }, {
            x: -2228228.4813718647,
            y: 5455218.201088696,
            z: 2432618.4863723367
        }, {
            x: -2228225.916030954,
            y: 5455221.347172171,
            z: 2432614.206596477
        }, {
            x: -2228227.1167027145,
            y: 5455224.113319319,
            z: 2432606.359263031
        }, {
            x: -2228228.7972040977,
            y: 5455224.973226386,
            z: 2432601.907520407
        }, {
            x: -2228232.602315341,
            y: 5455225.997076635,
            z: 2432599.2836742215
        }, {
            x: -2228238.1492084633,
            y: 5455223.581812969,
            z: 2432595.830582432
        }, {
            x: -2228245.2951025213,
            y: 5455225.689649165,
            z: 2432593.223235878
        }, {
            x: -2228254.016695935,
            y: 5455223.954731623,
            z: 2432581.110168955,
        }, {
            x: -2228265.3466551374,
            y: 5455222.6771896165,
            z: 2432571.7377226893
        }, {
            x: -2228272.3019229197,
            y: 5455221.936453689,
            z: 2432567.2787014935
        }, {
            x: -2228276.881779559,
            y: 5455221.04404971,
            z: 2432565.8596956595
        }, {
            x: -2228278.069803859,
            y: 5455221.1861770265,
            z: 2432566.8988033244
        }, {
            x: -2228274.690335718,
            y: 5455218.837484149,
            z: 2432574.4771093624
        }, {
            x: -2228271.428901761,
            y: 5455222.492481211,
            z: 2432584.1415744154
        }, {
            x: -2228267.5159419905,
            y: 5455214.87008329,
            z: 2432589.5721668345
        }, {
            x: -2228255.2791308872,
            y: 5455211.293062201,
            z: 2432607.7442100886
        }, {
            x: -2228246.284093729,
            y: 5455213.125856032,
            z: 2432617.6061389777
        }, {
            x: -2228236.434768604,
            y: 5455208.865072567,
            z: 2432631.437152473
        }, {
            x: -2228233.1253296696,
            y: 5455208.606576148,
            z: 2432639.276222017
        }, {
            x: -2228231.057064147,
            y: 5455207.577291462,
            z: 2432639.2796804705
        }, {
            x: -2228230.9842619183,
            y: 5455206.772369821,
            z: 2432639.676374802
        }, {
            x: -2228229.547025445,
            y: 5455207.6503987,
            z: 2432640.208451657
        }, {
            x: -2228229.1839548186,
            y: 5455208.2508277325,
            z: 2432639.4468740746
        }, {
            x: -2228222.472192675,
            y: 5455212.158641129,
            z: 2432641.6251736647
        }, {
            x: -2228220.7545685745,
            y: 5455214.5420098705,
            z: 2432640.0213992246
        }
    ],
    height: 99.2,
    extrudedHeight: undefined
}
]

class WatersManage {
    constructor() {
        this.primitives = [];
    }
    /**
     * 添加水域效果
     */
    addWaterPrimitive(viewer,watersList) {
        var _this = this;
        var viewer = viewer || CIM.viewer;
        var watersInfo = watersList || watersInfoData;
        var material = new Cesium.Material({
            fabric: {
                type: "Water",
                uniforms: {
                    baseWaterColor: new Cesium.Color(
                        64 / 255,
                        157 / 255,
                        253 / 255,
                        150 / 255
                    ),
                    normalMap: "/Assets/Textures/waterNormalsSmall.jpg",
                    frequency: 1000.0,
                    animationSpeed: 0.01,
                    amplitude: 10.0,
                },
            },
        });
        for (var i = 0; i < watersInfo.length; i++) {
            var _height = watersInfo[i].height;
            var _extrudedHeight = watersInfo[i].extrudedHeight;
            var positions = [];
            for (var j = 0; j < watersInfo[i].positions.length; j++) {
                positions.push(new Cesium.Cartesian3(
                    watersInfo[i].positions[j].x,
                    watersInfo[i].positions[j].y,
                    watersInfo[i].positions[j].z
                ))
            }
            var primitive = new Cesium.Primitive({
                geometryInstances: new Cesium.GeometryInstance({
                    geometry: new Cesium.PolygonGeometry({
                        polygonHierarchy: new Cesium.PolygonHierarchy(positions),
                        height: _height,
                        extrudedHeight: _extrudedHeight, //注释掉此属性可以只显示水面
                    }),
                }),
                // 可以设置内置的水面shader
                appearance: new Cesium.EllipsoidSurfaceAppearance({
                    material: material,
                }),
            });
            viewer.scene.primitives.add(primitive);
            _this.primitives.push(primitive);
        }
    }

}
export default new WatersManage();